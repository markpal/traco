int main(){
#pragma scop

for(j3 = 2; j3 <= N1; j3++){
  i3 = 2*j3-d3;
  for(j2 = 2; j2 <= N2; j2++){
    i2 = 2*j2-d2;
    ;
    for(j1 = 2; j1 <= N3; j1++){
      i1 = 2*j1-d1;
      x1[i1-1] = r[i1-1][i2-1][i3  ] + r[i1-1][i2+1][i3  ] + r[i1-1][i2][  i3-1] + r[i1-1][i2][  i3+1];
      y1[i1-1] = r[i1-1][i2-1][i3-1] + r[i1-1][i2-1][i3+1] + r[i1-1][i2+1][i3-1] + r[i1-1][i2+1][i3+1];
    }
    ;
    for(j1 = 2; j1 <= N4; j1++){
      i1 = 2*j1-d1;
      y2 = r[i1][  i2-1][i3-1] + r[i1][  i2-1][i3+1] + r[i1][  i2+1][i3-1] + r[i1][  i2+1][i3+1];
      x2 = r[i1][  i2-1][i3  ] + r[i1][  i2+1][i3  ] + r[i1][  i2][  i3-1] + r[i1][  i2][  i3+1];
      s[j1][j2][j3] = 0.5 * r[i1][i2][i3] + 0.25 * ( r[i1-1][i2][i3] + r[i1+1][i2][i3] + x2) + 0.125 * ( x1[i1-1] + x1[i1+1] + y2) + 0.0625 * ( y1[i1-1] + y1[i1+1] );
    }
    ;
  }
}


#pragma endscop
}